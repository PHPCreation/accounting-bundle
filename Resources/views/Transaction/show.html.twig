{% extends '::layout.html.twig' %}

{% block breadcrumb %}
    <li><a href="{{ path('elcweb_accounting_transaction_index') }}">Transactions</a></li>
    <li class="active">{{ transaction.id }}</li>
{% endblock breadcrumb %}

{% block content %}
    {% spaceless %}
        <table class="table table-striped table-condensed">
            <thead>
                <tr>
                    <th>Account</th>
                    <th>Amount</th>
                </tr>
            </thead>
            <tbody>
                {% set sum = 0 %}
                {% for entry in transaction.entries %}
                    {% set sum = sum + entry.amount %}
                    <tr>
                        <td><a href="{{ path('elcweb_accounting_account_show', { id: entry.account.id }) }}">{{ entry.account }}</a></td>
                        <td>$ {{ entry.amount|number_format(2) }}</td>
                    </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr>
                    <th></th>
                    <th>$ {{ sum|number_format(2) }}</th>
                </tr>
            </tfoot>
        </table>
    {% endspaceless %}
{% endblock %}
